{"id":"commando-079","title":"Agent-friendly command introspection (help2man++)","description":"A command that generates AI-agent consumable documentation about CLI tools. Similar to `help2man` but designed for AI consumption rather than man pages.\n\n**Core idea**: Given a command, recursively discover and document all nested sub-commands with their `--help` outputs in a structured, agent-optimized format.\n\n**Use case**: AI agents can query a tool to understand how to use it (or a specific sub-command) without needing pre-existing knowledge or manual documentation.","design":"## Key Features\n\n1. **Recursive sub-command discovery** - Automatically traverse command trees (e.g., `git remote add --help`)\n2. **Structured output** - JSON/YAML format optimized for LLM consumption\n3. **Option parsing** - Extract flags, arguments, defaults, types\n4. **Examples extraction** - Pull usage examples from help text\n5. **Semantic grouping** - Group related options/commands\n\n## Output Format Considerations\n\n- Machine-readable (JSON/YAML)\n- Include command hierarchy/tree structure\n- Normalize option descriptions\n- Flag required vs optional\n- Show argument types and defaults\n- Include usage patterns\n\n## Potential Approaches\n\n1. **Static analysis** - Parse `--help` output heuristically\n2. **Convention-based** - Support common CLI frameworks (Click, Cobra, yargs, etc.)\n3. **Interactive probing** - Try sub-commands to discover structure\n4. **Hybrid** - Combine approaches based on detection\n\n## Prior Art\n\n- `help2man` - Generates man pages from `--help`\n- `docopt` - Derives CLI from docstrings\n- Various shell completion generators","acceptance_criteria":"- [ ] Can introspect a simple command with `--help`\n- [ ] Can recursively discover nested sub-commands\n- [ ] Outputs structured JSON/YAML format\n- [ ] Handles common CLI patterns (flags, positional args, sub-commands)\n- [ ] Output is validated as useful by testing with an AI agent\n- [ ] Documented with examples","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-26T02:21:05.858242-08:00","updated_at":"2025-11-26T02:21:05.858242-08:00"}
{"id":"commando-0hx","title":"Update GitHub/Homebrew formula","description":"Update Homebrew formula and GitHub configuration.\n\n**Files**:\n- `.github/formula-template.rb`: class name, homepage, URLs, bin references\n- `.github/workflows/ci.yml`: any forge references\n- `.github/workflows/release.yml`: any forge references\n\n**Formula changes**:\n- `class Forge` → `class Commando`\n- `bin/\"forge\"` → `bin/\"cmdo\"`\n- Homepage and repository URLs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:13.470592-08:00","updated_at":"2025-12-28T01:16:28.149727-08:00","closed_at":"2025-12-28T01:16:28.149727-08:00","close_reason":"Completed via commando-54q (formula template updated) and repo already renamed on GitHub","dependencies":[{"issue_id":"commando-0hx","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:37.068339-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-41z","title":"[Deleted]","status":"tombstone","priority":0,"issue_type":"task","created_at":"2025-11-28T00:17:22.60725Z","updated_at":"2025-12-27T16:31:30.780447-08:00","deleted_at":"2025-11-28T00:17:22.60725Z","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"commando-4cp","title":"Update homebrew-planet57 for forge→commando rename","description":"Update homebrew-planet57 repo to use commando naming. Changes needed: class Forge → Commando, forge → cmdo binary refs, URLs, homepage.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-27T16:42:04.435997-08:00","updated_at":"2025-12-28T01:13:32.119962-08:00"}
{"id":"commando-4tl","title":"Move to protected branch strategy for beads","description":"Currently beads sync directly to main branch. Need to implement protected branch workflow where beads changes go through PR review like code changes.\n\nConsiderations:\n- How to handle bd sync with protected main\n- PR workflow for .beads/ changes\n- Hook integration for branch-aware syncing\n- May need bd sync --branch or similar","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T17:17:02.270326-08:00","updated_at":"2025-12-27T16:43:50.820545-08:00","closed_at":"2025-12-27T16:43:50.820545-08:00","close_reason":"Protected branch mode configured in 5bc0e3d: sync.branch=beads-metadata, JSONL files sync via worktree"}
{"id":"commando-54q","title":"Update GitHub/Homebrew files for commando rename","description":"Update .github/formula-template.rb and .github/workflows/release.yml for commando naming","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T17:02:25.715787-08:00","updated_at":"2025-12-27T17:03:29.819086-08:00","closed_at":"2025-12-27T17:03:29.819086-08:00","close_reason":"Updated formula-template.rb and release.yml for commando naming","dependencies":[{"issue_id":"commando-54q","depends_on_id":"forge-aaj","type":"blocks","created_at":"2025-12-27T17:02:36.775645-08:00","created_by":"daemon"},{"issue_id":"commando-54q","depends_on_id":"commando-aaj","type":"blocks","created_at":"2025-12-27T17:02:36.775645-08:00","created_by":"daemon"}]}
{"id":"commando-5z4","title":"Update shell scripts (install/uninstall/bootstrap)","description":"Update all shell scripts with new names and paths.\n\n**Files**:\n- `bin/install.sh`: ~15 changes (FORGE_HOME, paths, package refs)\n- `bin/uninstall.sh`: ~10 changes\n- `bin/brew-bootstrap.sh`: ~20 changes\n- `bin/cmdo` (formerly forge): ~10 changes\n- `bin/cmdo-dev` (formerly forge-dev): ~25 changes\n\n**Key patterns to replace**:\n- `FORGE_HOME` → `COMMANDO_HOME`\n- `~/.forge` → `~/.commando`\n- `@planet57/forge` → `@planet57/commando`\n- `bin/forge` → `bin/cmdo`\n- `@forge/*` → `@commando/*` (path aliases)\n- Tarball names: `planet57-forge-*.tgz` → `planet57-commando-*.tgz`","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.516895-08:00","updated_at":"2025-12-25T17:47:28.211888-08:00","closed_at":"2025-12-25T17:47:28.211888-08:00","close_reason":"Types renamed, shell scripts updated","dependencies":[{"issue_id":"commando-5z4","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.022876-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"commando-5z4","depends_on_id":"commando-ubk","type":"blocks","created_at":"2025-12-06T16:45:50.371607-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-631","title":"Forge doesn't auto-install when dependencies added to config.yml","description":"When adding a new dependency to `config.yml`, forge does not automatically detect the change and run `bun install`.\n\nUser has to manually trigger the install or run a command that happens to check deps.\n\nRelated to commando-gr3 (subcommand dep detection) but distinct - this is about detecting config.yml changes, not just missing deps.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-08T16:37:12.129425-08:00","updated_at":"2025-12-08T16:37:12.129425-08:00","labels":["bootstrap","config","dependencies"],"dependencies":[{"issue_id":"commando-631","depends_on_id":"commando-gr3","type":"related","created_at":"2025-12-08T16:37:20.82704-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-6u6","title":"Support custom command name registration separate from export identifier","description":"Currently command registration uses the export identifier (e.g., `issueStatus`). Need a way to register commands with a different name (e.g., `issue-status`) while keeping valid JS identifiers for exports.\n\nExample:\n```typescript\nexport const issueStatus: ForgeCommand = {\n  name: 'issue-status',  // registered as 'issue-status'\n  // ...\n}\n```","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-13T01:04:22.519415-08:00","updated_at":"2025-12-13T01:04:22.519415-08:00"}
{"id":"commando-72c","title":"Update documentation (README, CLAUDE.md, docs/)","description":"Update all documentation files.\n\n**Core docs**:\n- `README.md`: brew install command, URLs, all \"Forge\" references\n- `CLAUDE.md`: FORGE_HOME architecture section, paths, bead prefix\n- `CHANGELOG.md`: historical references (update for clarity)\n\n**docs/ directory** (~60 files):\n- `docs/command-patterns.md`\n- `docs/features/*.md`\n- `docs/planning/*.md`\n- `docs/reference/module-resolution.md`\n\n**Patterns**:\n- \"Forge\" → \"Commando\" (project name)\n- `.forge/` → `.commando/`\n- `FORGE_HOME` → `COMMANDO_HOME`\n- `forge-xxx` → `commando-xxx` (bead references)\n- GitHub URLs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:13.308224-08:00","updated_at":"2025-12-26T02:17:54.636337-08:00","closed_at":"2025-12-26T02:17:54.636337-08:00","close_reason":"Documentation forge→commando rename complete (32 files updated, committed a7621d6)","dependencies":[{"issue_id":"commando-72c","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.894461-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-7ik","title":"Test 2: after commit","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-28T22:36:20.519068-08:00","updated_at":"2025-12-28T20:38:21.810371-08:00","closed_at":"2025-12-28T20:38:21.81038-08:00"}
{"id":"commando-8d9","title":"Update tests/ files","description":"Update all test files and fixtures.\n\n**Files**:\n- `tests/install.test.ts`: paths, package refs (~10 changes)\n- `tests/lib/test-env.ts`: TEST_FORGE_HOME → TEST_COMMANDO_HOME\n- `tests/lib/runner.ts`: bin/forge-dev → bin/cmdo-dev\n- `tests/fixtures/test-project/.commando/test-commands.ts`: imports\n\n**Patterns**:\n- `FORGE_HOME` → `COMMANDO_HOME`\n- `.forge/` → `.commando/`\n- `@planet57/forge` → `@planet57/commando`\n- `~/.local/bin/forge` → `~/.local/bin/cmdo`","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:13.144564-08:00","updated_at":"2025-12-25T21:25:24.260084-08:00","closed_at":"2025-12-25T21:25:24.260084-08:00","close_reason":"Tests updated for commando rename","dependencies":[{"issue_id":"commando-8d9","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.721118-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"commando-8d9","depends_on_id":"commando-bch","type":"blocks","created_at":"2025-12-06T16:45:50.509337-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-99c","title":"Update docs and test READMEs for commando rename","description":"Update CHANGELOG.md, tests/README.md, tests/fixtures/README.md, docs/planning/*.md, docs/testing.md, docs/reference/xdg-paths.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T17:02:27.615166-08:00","updated_at":"2025-12-27T17:05:36.633093-08:00","closed_at":"2025-12-27T17:05:36.633093-08:00","close_reason":"Updated CHANGELOG.md, tests/README.md, tests/fixtures/README.md, docs/planning/*.md, docs/testing.md, docs/reference/xdg-paths.md for commando naming","dependencies":[{"issue_id":"commando-99c","depends_on_id":"forge-aaj","type":"blocks","created_at":"2025-12-27T17:02:36.864686-08:00","created_by":"daemon"},{"issue_id":"commando-99c","depends_on_id":"commando-aaj","type":"blocks","created_at":"2025-12-27T17:02:36.864686-08:00","created_by":"daemon"}]}
{"id":"commando-9q2","title":"Update examples/ content","description":"Update all example project content.\n\n**Files**:\n- `examples/website/.commando/website.ts`: imports, comments\n- `examples/website/.commando/config.yml`: module references\n- `examples/standard-git/.commando/config.yml`: template references\n- All other example configs\n\n**Import changes**:\n- `@forge/command` → `@commando/command`\n- `@forge/aws` → `@commando/aws`\n- `forge-standard` → `commando-standard`","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:12.983683-08:00","updated_at":"2025-12-25T21:27:15.728794-08:00","closed_at":"2025-12-25T21:27:15.728794-08:00","close_reason":"Examples TS and config files updated; READMEs to be done with docs","dependencies":[{"issue_id":"commando-9q2","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.544446-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"commando-9q2","depends_on_id":"commando-bch","type":"blocks","created_at":"2025-12-06T16:45:50.461735-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-aaj","title":"Rename forge to commando (cmdo)","description":"Rename the project from \"forge\" to \"commando\" with CLI command `cmdo`.\n\n**Motivation**: Avoid Homebrew naming conflict with existing `forge` package.\n\n**Scope**: ~200+ file changes across source, scripts, docs, tests, and configuration.\n\n**Key Changes**:\n- Package: `@planet57/forge` → `@planet57/commando`\n- Binary: `forge` → `cmdo`, `forge-dev` → `cmdo-dev`\n- Environment: `FORGE_HOME` → `COMMANDO_HOME`\n- Directories: `~/.forge` → `~/.commando`, `.forge/` → `.commando/`\n- Types: `Forge*` → `Commando*`\n- Beads prefix: New beads use `commando-`, existing `forge-` beads retained as history","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-06T16:44:10.983084-08:00","updated_at":"2025-12-28T20:31:10.831454-08:00","closed_at":"2025-12-28T20:31:10.831454-08:00","close_reason":"Rename from forge to commando complete - all 13 subtasks done","dependencies":[{"issue_id":"commando-aaj","depends_on_id":"commando-auj","type":"blocks","created_at":"2025-12-26T02:17:42.381088-08:00","created_by":"daemon"}]}
{"id":"commando-auj","title":"Rename forge-standard repo to commando-standard","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T02:17:13.18039-08:00","updated_at":"2025-12-27T17:11:32.826252-08:00","closed_at":"2025-12-27T17:11:32.826252-08:00","close_reason":"Created commando-standard at ../commando-standard/ with updated naming"}
{"id":"commando-bch","title":"Rename project directories .forge/ → .commando/","description":"Rename all .forge/ directories and update references.\n\n**Directories to rename**:\n- `examples/website/.forge/` → `.commando/`\n- `examples/basic/.forge/` → `.commando/`\n- `examples/deps/.forge/` → `.commando/`\n- `examples/standard-git/.forge/` → `.commando/`\n- `tests/fixtures/test-project/.forge/` → `.commando/`\n- `dev-home/forge/` → `dev-home/commando/`\n\n**References to update**:\n- All documentation mentioning `.forge/`\n- All code searching for `.forge/` directory\n- Config file paths","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:12.827373-08:00","updated_at":"2025-12-25T21:22:09.030828-08:00","closed_at":"2025-12-25T21:22:09.030828-08:00","close_reason":"Directories renamed, lib/ references updated","dependencies":[{"issue_id":"commando-bch","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.369588-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"commando-bch","depends_on_id":"commando-dif","type":"blocks","created_at":"2025-12-06T16:45:50.416973-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-bcn","title":"Update VS Code and IDE configuration","description":"Update IDE configuration files.\n\n**Files**:\n- `.vscode/launch.json`: FORGE_HOME env var in debug configs\n- Any other IDE-specific configuration\n\n**Changes**:\n- Line 13, 28: `\"FORGE_HOME\": \"${workspaceFolder}/dev-home/forge\"` → `\"COMMANDO_HOME\": \"${workspaceFolder}/dev-home/commando\"`","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T16:45:13.993306-08:00","updated_at":"2025-12-25T21:29:25.771448-08:00","closed_at":"2025-12-25T21:29:25.771448-08:00","close_reason":"VS Code launch.json updated with COMMANDO_HOME and cmdo-dev","dependencies":[{"issue_id":"commando-bcn","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:37.584677-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-bdn","title":"Simplify --version to read from installed package.json","description":"Change cmdo --version to read version directly from ~/.commando/node_modules/@planet57/commando/package.json instead of the generated version.json file. Removes complexity of install-time version generation.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T01:43:57.057318-08:00","updated_at":"2025-12-28T01:43:57.057318-08:00"}
{"id":"commando-d6b","title":"Update examples for commando-standard rename","description":"Update examples/standard*/README.md - blocked by forge-standard → commando-standard rename (forge-auj)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T17:02:28.265003-08:00","updated_at":"2025-12-27T17:11:33.48348-08:00","closed_at":"2025-12-27T17:11:33.48348-08:00","close_reason":"Updated examples/standard/README.md and examples/standard-git/README.md to reference commando-standard","dependencies":[{"issue_id":"commando-d6b","depends_on_id":"forge-aaj","type":"blocks","created_at":"2025-12-27T17:02:36.90524-08:00","created_by":"daemon"},{"issue_id":"commando-d6b","depends_on_id":"commando-aaj","type":"blocks","created_at":"2025-12-27T17:02:36.90524-08:00","created_by":"daemon"},{"issue_id":"commando-d6b","depends_on_id":"forge-auj","type":"blocks","created_at":"2025-12-27T17:02:37.671568-08:00","created_by":"daemon"},{"issue_id":"commando-d6b","depends_on_id":"commando-auj","type":"blocks","created_at":"2025-12-27T17:02:37.671568-08:00","created_by":"daemon"}]}
{"id":"commando-dfh","title":"Copy forge repo to new commando repo on GitHub","description":"Copy the GitHub repository to retain compatibility with existing forge repo.\n\n**Approach**: Create new repo instead of rename\n1. Create new repo `jdillon/commando` on GitHub\n2. Push current branch to new repo as main\n3. Keep `jdillon/forge` as-is for backwards compatibility\n4. Update local remote: `git remote set-url origin git@github.com:jdillon/commando.git`\n\n**Dependent changes** (already covered in other stories):\n- package.json repository URL\n- README installation URLs  \n- Documentation links\n\n**Note**: Do this after all code changes are complete and committed.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T16:45:13.819831-08:00","updated_at":"2025-12-28T01:16:28.151449-08:00","closed_at":"2025-12-28T01:16:28.151449-08:00","close_reason":"Completed via commando-54q (formula template updated) and repo already renamed on GitHub","dependencies":[{"issue_id":"commando-dfh","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:37.412806-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-dif","title":"Update lib/ source files","description":"Update all library source code.\n\n**Files**:\n- `lib/forge-home.ts` → consider renaming to `lib/commando-home.ts`\n  - Function names, comments, package.json template name\n- `lib/cli.ts`: program name, help text, version output\n- `lib/config-resolver.ts`: cosmiconfig(\"forge\") → cosmiconfig(\"commando\")\n- `lib/core.ts`: imports, type references\n- `lib/builtins.ts`: environment variable exports\n\n**String changes**:\n- `\"forge version\"` → `\"commando version\"`\n- `\"Try 'forge --help'\"` → `\"Try 'cmdo --help'\"`\n- `.name(\"forge\")` → `.name(\"cmdo\")`\n- `\".forge/\"` → `\".commando/\"`","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.669226-08:00","updated_at":"2025-12-25T17:50:17.787074-08:00","closed_at":"2025-12-25T17:50:17.787074-08:00","close_reason":"Updated lib/ files: renamed forge-home→commando-home, updated imports, function names, and .forge→.commando references","dependencies":[{"issue_id":"commando-dif","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.197922-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-dy2","title":"Test 3: trigger auto-push","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-28T22:39:37.550796-08:00","updated_at":"2025-12-28T20:38:02.520327-08:00","closed_at":"2025-12-28T20:38:02.520332-08:00"}
{"id":"commando-eua","title":"Shell completion support (bash/zsh/fish)","description":"Add shell completion for commands, options, and arguments.\n\n**Library**: `omelette` (already installed)\n\n**Features needed**:\n- Auto-complete commands and subcommands\n- Auto-complete options (--help, --debug, etc.)\n- Auto-complete command-specific arguments\n- Generate completion scripts for bash/zsh/fish","design":"Use `omelette` library to generate completion scripts.\n\n```typescript\nimport omelette from 'omelette';\n\nconst completion = omelette('forge \u003ccommand\u003e \u003csubcommand\u003e');\n\ncompletion.on('command', ({ reply }) =\u003e {\n  reply(['website', 'basic', 'help', 'version']);\n});\n\ncompletion.on('subcommand', ({ before, reply }) =\u003e {\n  if (before === 'website') {\n    reply(['build', 'deploy', 'status']);\n  }\n});\n\ncompletion.init();\n```\n\n**Installation**: `forge completion install` to add to shell profile.","acceptance_criteria":"- [ ] `forge completion` command exists\n- [ ] `forge completion install` adds to shell profile\n- [ ] Tab-completes top-level commands\n- [ ] Tab-completes subcommands within groups\n- [ ] Tab-completes global options\n- [ ] Works in bash, zsh, fish","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-26T15:23:00.83981-08:00","updated_at":"2025-11-26T15:23:00.83981-08:00"}
{"id":"commando-gr3","title":"Subcommands don't trigger dependency installation for new modules","description":"When adding a new command module with dependencies:\n\n1. Add new module (e.g., `.forge/figma.ts`)\n2. Update `config.yml` with module and dependencies\n3. Run subcommand directly: `forge figma login` → **fails**\n4. Run parent command: `forge figma` → works, installs deps\n5. Run subcommand again: `forge figma login` → works\n\nThe dependency detection/`bun install` logic runs for the parent command but not when invoking subcommands directly. Should detect missing deps and run install regardless of command depth.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-08T02:42:49.198499-08:00","updated_at":"2025-12-08T02:42:55.788382-08:00","labels":["bootstrap","cli","dependencies"]}
{"id":"commando-gtk","title":"Consider renaming forge to commando (cmdo)","description":"Evaluate renaming the project from \"forge\" to \"commando\" with CLI command `cmdo`.\n\n**Motivation**: There's already a `forge` package in Homebrew, causing naming conflicts.\n\n**Findings**:\n- Neither `commando` nor `cmdo` exist in Homebrew\n- Similar packages: commandbox, command-x, commandq, cdo, cmd (none conflict)\n\n**TODO**:\n- [ ] Decide on rename\n- [ ] If yes, update package name, CLI binary, docs, and Homebrew formula","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T16:40:30.684259-08:00","updated_at":"2025-12-06T16:42:27.397212-08:00","closed_at":"2025-12-06T16:42:27.397212-08:00"}
{"id":"commando-kdf","title":"Migrate beads prefix forge- → commando-","description":"Migrate existing beads to new prefix.\n\n**Strategy**:\n1. Export all issues: `bd export -o beads-backup.jsonl`\n2. Use `bd rename-prefix commando` (if available) or manual migration\n3. Update all issue IDs from `forge-xxx` to `commando-xxx`\n4. Verify references in commit messages still work\n\n**Files with bead references**:\n- CLAUDE.md: `Resolves: forge-xxx` pattern\n- Any commit messages (historical, won't change)\n\n**Note**: This should be done LAST after all other renames, as it affects the tracking system itself.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-06T16:45:13.645341-08:00","updated_at":"2025-12-27T13:36:59.726916-08:00","closed_at":"2025-12-27T13:36:59.726916-08:00","close_reason":"Decided to leave existing forge-xxx beads as historical records. Updated issue_prefix to 'commando' for new beads going forward.","dependencies":[{"issue_id":"commando-kdf","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:37.240493-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"commando-kdf","depends_on_id":"commando-72c","type":"blocks","created_at":"2025-12-06T16:45:50.56028-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-kxw","title":"Automate Homebrew formula updates on release","description":"Automate the Homebrew tap update process when releasing new versions. Currently manual: rebuild tarball, compute sha256, update formula, push to tap.\n\n**Reference**: beads project `.github/workflows/update-homebrew.yml`","design":"## Approach\n\n**Phase 1**: Automate current approach (Bun tarball)\n- Tag push (v*) triggers release workflow\n- Build tarball, create GitHub release\n- Compute sha256, generate formula, push to tap\n- Low effort, matches current manual process\n\n**Phase 2** (future): Standalone binary via `bun build --compile`\n- Zero-dependency binaries for darwin-arm64, darwin-x64, linux-x64\n- Better UX but larger binaries (~50MB)\n\n## Implementation\n\n### release.yml workflow\n```yaml\non:\n  push:\n    tags: ['v*']\n\njobs:\n  release:\n    steps:\n      - uses: actions/checkout@v4\n      - uses: oven-sh/setup-bun@v2\n      - run: bun run pack\n      - uses: softprops/action-gh-release@v1\n        with:\n          files: build/*.tgz\n\n  update-homebrew:\n    needs: release\n    steps:\n      - Download tarball, compute sha256\n      - Generate formula from template\n      - Clone tap repo using HOMEBREW_TAP_TOKEN\n      - Commit and push updated formula\n```\n\n### Formula template\n```ruby\nclass Forge \u003c Formula\n  url \"https://github.com/jdillon/forge/releases/download/v{{VERSION}}/planet57-forge-{{VERSION}}.tgz\"\n  sha256 \"{{SHA256}}\"\n  version \"{{VERSION}}\"\n  depends_on \"oven-sh/bun/bun\"\n  # ...\nend\n```\n\n### Secrets required\n- `HOMEBREW_TAP_TOKEN`: PAT with `repo` scope for pushing to homebrew-planet57","acceptance_criteria":"- [ ] `.github/workflows/release.yml` created\n- [ ] Formula template with placeholders\n- [ ] `HOMEBREW_TAP_TOKEN` secret configured\n- [ ] Tag push triggers release + formula update\n- [ ] `brew upgrade forge` works after release\n- [ ] Manual dispatch option for testing","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-26T13:53:13.833881-08:00","updated_at":"2025-11-26T13:53:13.833881-08:00"}
{"id":"commando-ltb","title":"Update core project files for commando rename","description":"Update README.md install URLs, package.json repo URL, CLAUDE.md bead format, license-checker.config.json patterns","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T17:02:26.813243-08:00","updated_at":"2025-12-27T17:04:07.33968-08:00","closed_at":"2025-12-27T17:04:07.33968-08:00","close_reason":"Updated README.md URLs, package.json repo, CLAUDE.md bead format, license-checker patterns","dependencies":[{"issue_id":"commando-ltb","depends_on_id":"forge-aaj","type":"blocks","created_at":"2025-12-27T17:02:36.818308-08:00","created_by":"daemon"},{"issue_id":"commando-ltb","depends_on_id":"commando-aaj","type":"blocks","created_at":"2025-12-27T17:02:36.818308-08:00","created_by":"daemon"}]}
{"id":"commando-mvj","title":"ExitNotification stack trace shown on unknown command","description":"Running forge with an unknown command displays the error message correctly, but then shows an ugly `ExitNotification` stack trace that shouldn't be visible to users.\n\n**Repro**: `forge foo` (any unknown command)\n\n**Actual**:\n```\nerror: too many arguments. Expected 0 arguments but got 1.\nERROR: unknown command. Run 'forge --help' to see available commands\nTry 'forge --help' for more information.\n44 | /**\n45 |  * Exit process with code (clean exit)\n...\nExitNotification: Exit with code 1\n exitCode: 1,\n      at exit (~/.forge/node_modules/@planet57/forge/lib/helpers.ts:49:9)\n      ...\n```\n\n**Expected**: Just the error message, no stack trace. `ExitNotification` is internal control flow, not a user-facing error.","design":"`ExitNotification` is thrown as a clean exit mechanism but Bun is printing the stack trace. Need to ensure it's caught at the top level and handled silently (just exit with the code).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-26T02:21:58.105051-08:00","updated_at":"2025-11-28T00:33:42.1511-08:00","closed_at":"2025-11-28T00:33:42.1511-08:00"}
{"id":"commando-n0y","title":"Rename TypeScript types Forge* → Commando*","description":"Rename exported types and interfaces.\n\n**Types in lib/types.ts**:\n- `interface Forge` → `interface Commando`\n- `interface ForgeContext` → `interface CommandoContext`\n- `interface ForgeCommand` → `interface CommandoCommand`\n- `interface ForgeModuleMetadata` → `interface CommandoModuleMetadata`\n- `interface ForgeConfig` → `interface CommandoConfig`\n\n**Ripple effects**:\n- All files importing these types\n- lib/core.ts\n- Various command files\n- Test files","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.365899-08:00","updated_at":"2025-12-25T17:47:28.207516-08:00","closed_at":"2025-12-25T17:47:28.207516-08:00","close_reason":"Types renamed, shell scripts updated","dependencies":[{"issue_id":"commando-n0y","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:35.847716-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-q4h","title":"Add standard prompt library for interactive CLI","description":"Add a prompt library for interactive user input in forge commands.\n\n## Options Evaluated\n\n| Library | Status | Size | Notes |\n|---------|--------|------|-------|\n| **@clack/prompts** | Active (v1 alpha) | 80% smaller | Beautiful minimal UI, spinner/tasks built-in, opinionated |\n| **@inquirer/prompts** | Active (rewritten) | Moderate | Modern rewrite of classic inquirer, most features |\n| **prompts** | Maintained | Lightweight | Zero deps, simple API, 8.7k stars |\n| **enquirer** | Low activity | ~4ms load | Used by eslint/webpack/yarn, but not actively developed |\n\n## Recommendation\n\n**Primary: @clack/prompts**\n- Modern, actively developed (v1 coming)\n- Built-in spinner, tasks, logging (`log.info`, `log.success`, etc.)\n- Minimal and beautiful out of the box\n- Simple API - less boilerplate\n- Good TypeScript support\n- Trade-off: Opinionated, fewer customization options\n\n**Alternative: @inquirer/prompts**\n- More flexibility and customization\n- Larger ecosystem, more prompt types\n- Modern rewrite of battle-tested inquirer\n- Better choice if heavy customization needed\n\n## References\n- https://www.clack.cc/\n- https://github.com/bombshell-dev/clack\n- https://www.npmjs.com/package/@inquirer/prompts\n- https://github.com/SBoudrias/Inquirer.js","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-09T22:57:36.177559-08:00","updated_at":"2025-12-09T22:57:36.177559-08:00","labels":["cli","dependencies","research"]}
{"id":"commando-rjt","title":"Consider per-project node_modules instead of shared","description":"Evaluate moving from shared node_modules to per-project node_modules directories.\n\n## Current Approach\nAll forge projects share a single node_modules in ~/.forge/, with sub-projects linked in.\n\n## Alternative\nEach .forge/ project gets its own node_modules directory.\n\n## Why This May Be Worth It\n- Avoids dependency pollution between projects\n- Cleaner isolation - no conflicts between projects needing different versions\n- Simpler mental model\n\n## Why Disk Cost Is Minimal\nBun uses a global cache at `~/.bun/install/cache` and:\n- **Hardlinks** on Linux/Windows\n- **Clonefile** (copy-on-write) on macOS\n\nActual bytes exist only once in the cache. Each node_modules just has hardlinks/clonefiles pointing to the same data. Cost is only directory structure overhead and inode entries, NOT duplicate file content.\n\nSimilar to how pnpm works. Bun also has `--linker=isolated` mode (pnpm-style symlinked node_modules) for monorepos.\n\n## When to Revisit\nIf we find dependency pollution issues between projects with the current shared node_modules approach.\n\n## References\n- https://bun.com/docs/install/cache.md\n- https://thevalleyofcode.com/managing-node-modules-efficiently/\n- https://hy2k.dev/en/blog/2025/10-15-bun-install-isolated-vs-hoisted/","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-10T01:59:57.144701-08:00","updated_at":"2025-12-10T01:59:57.144701-08:00","labels":["architecture","dependencies","research"]}
{"id":"commando-sth","title":"Add 'config' subcommand to manage configuration","description":"Add a standard `forge config` command to view/edit configuration.\n\n**Scope**:\n- Project config: `.forge/config.yml`\n- Local overrides: `.forge/config.local.yml`\n- Global/user config: `~/.forge/config.yml`\n\n**Possible subcommands**:\n- `forge config get \u003ckey\u003e` - get a value\n- `forge config set \u003ckey\u003e \u003cvalue\u003e` - set a value\n- `forge config list` - show merged config\n- `forge config edit [--global|--local]` - open in editor\n- `forge config path [--global|--local]` - show config file path\n\n**Considerations**:\n- Which layer to write to by default (project vs local vs global)\n- How to handle nested keys (dot notation? `settings.figma.token`)\n- Show effective/merged values vs per-layer values","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-09T13:04:04.865681-08:00","updated_at":"2025-12-09T13:04:04.865681-08:00","labels":["cli","config"]}
{"id":"commando-sua","title":"Native nested subcommands support","description":"Currently forge supports one level of command grouping via modules (`forge \u003cgroup\u003e \u003ccommand\u003e`), but no native support for nested subcommands (`forge \u003cgroup\u003e \u003csubgroup\u003e \u003ccommand\u003e`).\n\n**Current workaround**: Switch statement on positional argument (Style 9)\n\n**Downsides of workaround**:\n- No automatic help for sub-actions\n- Manual validation and error messages\n- Can't define per-action options/arguments cleanly\n\n**Use cases**:\n- `forge ios sim list|boot|shutdown`\n- `forge db migrate up|down|status`\n- `forge k8s pod list|logs|exec`","design":"## Proposed API\n\nAdd `subcommands` property to `ForgeCommand`:\n\n```typescript\n// lib/types.ts\nexport interface ForgeCommand {\n  description: string;\n  subcommands?: Record\u003cstring, ForgeCommand\u003e;  // NEW\n  defineCommand?: (cmd: Command) =\u003e void;\n  execute?: (...) =\u003e Promise\u003cvoid\u003e;  // optional if has subcommands\n}\n```\n\n**Usage**:\n```typescript\nexport const sim: ForgeCommand = {\n  description: 'iOS simulator commands',\n  subcommands: {\n    list: {\n      description: 'List available simulators',\n      execute: async () =\u003e { /* ... */ }\n    },\n    boot: {\n      description: 'Boot simulator',\n      defineCommand: (cmd) =\u003e cmd.argument('[name]', 'Simulator name'),\n      execute: async (opts, args) =\u003e { /* ... */ }\n    }\n  }\n};\n```\n\n**Result**:\n```\n$ forge ios sim --help\nCommands:\n  list      List available simulators\n  boot      Boot simulator\n```\n\n## Implementation Notes\n\n1. **core.ts**: Check for `subcommands` and recursively build Commander subcommands via `cmd.addCommand()`\n2. **Depth limit**: Consider 2-3 levels max\n3. **Execute behavior**: If has `subcommands` but no `execute`, show help when invoked without subcommand","acceptance_criteria":"- [ ] `subcommands` property added to ForgeCommand type\n- [ ] core.ts recursively registers nested subcommands\n- [ ] `--help` shows subcommand list properly\n- [ ] Per-subcommand options/arguments work\n- [ ] Depth limit enforced (2-3 levels)\n- [ ] Commands without execute show help when invoked alone\n- [ ] Example added to examples/","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-26T02:28:12.126037-08:00","updated_at":"2025-11-26T02:28:12.126037-08:00"}
{"id":"commando-ubk","title":"Rename binary files and package identity","description":"Rename core binary files and update package.json.\n\n**Files**:\n- `bin/forge` → `bin/cmdo`\n- `bin/forge-dev` → `bin/cmdo-dev`\n- `package.json`: name, bin entry, repository URL\n\n**Changes in package.json**:\n- Line 2: `\"name\": \"@planet57/forge\"` → `\"@planet57/commando\"`\n- Line 17: repository URL\n- Line 21: `\"bin/forge\"` → `\"bin/cmdo\"`\n- Line 70: comment reference","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.064319-08:00","updated_at":"2025-12-25T17:39:46.251126-08:00","closed_at":"2025-12-25T17:39:46.251126-08:00","close_reason":"Renamed bin/forge→bin/cmdo, bin/forge-dev→bin/cmdo-dev, updated package.json","dependencies":[{"issue_id":"commando-ubk","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:35.497967-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-uhk","title":"Add log-to-file option for AI-driven workflows","description":"Add ability to log to a file while keeping console output terse.\n\n**Use case**: AI-driven workflows need minimal console output to avoid filling context, but detailed logs should still be available when:\n- Things go sideways and need debugging\n- Need to confirm specific output without polluting context\n\n**Possible approach**:\n- `--log-file \u003cpath\u003e` flag or config option\n- File gets full verbose output regardless of console verbosity\n- Console stays terse for AI consumption","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-08T15:00:52.845201-08:00","updated_at":"2025-12-08T15:00:52.845201-08:00","labels":["ai-workflows","cli","logging"]}
{"id":"commando-xgy","title":"Update environment variables FORGE_* → COMMANDO_*","description":"Replace all environment variable references.\n\n**Variables**:\n- `FORGE_HOME` → `COMMANDO_HOME` (primary, used everywhere)\n- `FORGE_RESTARTED` → `COMMANDO_RESTARTED` (lib/cli.ts, bin/forge)\n- `FORGE_PROJECT` → `COMMANDO_PROJECT` (lib/config-resolver.ts)\n\n**Files affected**:\n- lib/forge-home.ts\n- lib/cli.ts (lines 105, 117, 132)\n- lib/config-resolver.ts (lines 100, 114-124, 252)\n- lib/builtins.ts (line 68)\n- lib/version.ts (line 40)\n- bin/forge, bin/forge-dev, bin/install.sh, bin/uninstall.sh, bin/brew-bootstrap.sh\n- .vscode/launch.json","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.211543-08:00","updated_at":"2025-12-25T17:44:30.510411-08:00","closed_at":"2025-12-25T17:44:30.510411-08:00","close_reason":"Updated all FORGE_* env vars to COMMANDO_* in lib/, bin/, and tests/","dependencies":[{"issue_id":"commando-xgy","depends_on_id":"commando-aaj","type":"parent-child","created_at":"2025-12-06T16:45:35.672486-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"commando-xre","title":"Add CLI commands to interface with package system","description":"Need user-facing commands to manage the forge package system:\n\nPossible commands:\n- `forge packages list` - show installed packages\n- `forge packages install \u003cpkg\u003e` - install a package\n- `forge packages update` - update all packages\n- `forge packages outdated` - show outdated packages\n- `forge packages add \u003cpkg\u003e` - add to config.yml and install\n\nCurrently no way for users to interact with the package system directly.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-08T16:37:12.956373-08:00","updated_at":"2025-12-08T16:37:12.956373-08:00","labels":["cli","packages"]}
{"id":"commando-y25","title":"Test: protected branch workflow","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-28T22:31:12.372362-08:00","updated_at":"2025-11-28T22:31:12.372362-08:00"}
{"id":"forge-079","title":"Agent-friendly command introspection (help2man++)","description":"A command that generates AI-agent consumable documentation about CLI tools. Similar to `help2man` but designed for AI consumption rather than man pages.\n\n**Core idea**: Given a command, recursively discover and document all nested sub-commands with their `--help` outputs in a structured, agent-optimized format.\n\n**Use case**: AI agents can query a tool to understand how to use it (or a specific sub-command) without needing pre-existing knowledge or manual documentation.","design":"## Key Features\n\n1. **Recursive sub-command discovery** - Automatically traverse command trees (e.g., `git remote add --help`)\n2. **Structured output** - JSON/YAML format optimized for LLM consumption\n3. **Option parsing** - Extract flags, arguments, defaults, types\n4. **Examples extraction** - Pull usage examples from help text\n5. **Semantic grouping** - Group related options/commands\n\n## Output Format Considerations\n\n- Machine-readable (JSON/YAML)\n- Include command hierarchy/tree structure\n- Normalize option descriptions\n- Flag required vs optional\n- Show argument types and defaults\n- Include usage patterns\n\n## Potential Approaches\n\n1. **Static analysis** - Parse `--help` output heuristically\n2. **Convention-based** - Support common CLI frameworks (Click, Cobra, yargs, etc.)\n3. **Interactive probing** - Try sub-commands to discover structure\n4. **Hybrid** - Combine approaches based on detection\n\n## Prior Art\n\n- `help2man` - Generates man pages from `--help`\n- `docopt` - Derives CLI from docstrings\n- Various shell completion generators","acceptance_criteria":"- [ ] Can introspect a simple command with `--help`\n- [ ] Can recursively discover nested sub-commands\n- [ ] Outputs structured JSON/YAML format\n- [ ] Handles common CLI patterns (flags, positional args, sub-commands)\n- [ ] Output is validated as useful by testing with an AI agent\n- [ ] Documented with examples","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2025-11-26T02:21:05.858242-08:00","updated_at":"2025-12-28T20:30:35.236384-08:00","deleted_at":"2025-12-28T20:30:35.236384-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"epic"}
{"id":"forge-0hx","title":"Update GitHub/Homebrew formula","description":"Update Homebrew formula and GitHub configuration.\n\n**Files**:\n- `.github/formula-template.rb`: class name, homepage, URLs, bin references\n- `.github/workflows/ci.yml`: any forge references\n- `.github/workflows/release.yml`: any forge references\n\n**Formula changes**:\n- `class Forge` → `class Commando`\n- `bin/\"forge\"` → `bin/\"cmdo\"`\n- Homepage and repository URLs","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:13.470592-08:00","updated_at":"2025-12-28T20:30:35.231795-08:00","close_reason":"Completed via commando-54q (formula template updated) and repo already renamed on GitHub","dependencies":[{"issue_id":"forge-0hx","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:37.068339-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.231795-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-41z","title":"[Deleted]","status":"tombstone","priority":0,"issue_type":"task","created_at":"2025-11-28T00:17:22.60725Z","updated_at":"2025-12-27T16:31:30.780447-08:00","deleted_at":"2025-11-28T00:17:22.60725Z","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"forge-4tl","title":"Move to protected branch strategy for beads","description":"Currently beads sync directly to main branch. Need to implement protected branch workflow where beads changes go through PR review like code changes.\n\nConsiderations:\n- How to handle bd sync with protected main\n- PR workflow for .beads/ changes\n- Hook integration for branch-aware syncing\n- May need bd sync --branch or similar","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-25T17:17:02.270326-08:00","updated_at":"2025-12-28T20:30:35.226657-08:00","close_reason":"Protected branch mode configured in 5bc0e3d: sync.branch=beads-metadata, JSONL files sync via worktree","deleted_at":"2025-12-28T20:30:35.226657-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-5z4","title":"Update shell scripts (install/uninstall/bootstrap)","description":"Update all shell scripts with new names and paths.\n\n**Files**:\n- `bin/install.sh`: ~15 changes (FORGE_HOME, paths, package refs)\n- `bin/uninstall.sh`: ~10 changes\n- `bin/brew-bootstrap.sh`: ~20 changes\n- `bin/cmdo` (formerly forge): ~10 changes\n- `bin/cmdo-dev` (formerly forge-dev): ~25 changes\n\n**Key patterns to replace**:\n- `FORGE_HOME` → `COMMANDO_HOME`\n- `~/.forge` → `~/.commando`\n- `@planet57/forge` → `@planet57/commando`\n- `bin/forge` → `bin/cmdo`\n- `@forge/*` → `@commando/*` (path aliases)\n- Tarball names: `planet57-forge-*.tgz` → `planet57-commando-*.tgz`","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.516895-08:00","updated_at":"2025-12-28T20:30:35.22256-08:00","close_reason":"Types renamed, shell scripts updated","dependencies":[{"issue_id":"forge-5z4","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.022876-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"forge-5z4","depends_on_id":"forge-ubk","type":"blocks","created_at":"2025-12-06T16:45:50.371607-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.22256-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-631","title":"Forge doesn't auto-install when dependencies added to config.yml","description":"When adding a new dependency to `config.yml`, forge does not automatically detect the change and run `bun install`.\n\nUser has to manually trigger the install or run a command that happens to check deps.\n\nRelated to forge-gr3 (subcommand dep detection) but distinct - this is about detecting config.yml changes, not just missing deps.","status":"tombstone","priority":2,"issue_type":"bug","created_at":"2025-12-08T16:37:12.129425-08:00","updated_at":"2025-12-28T20:30:35.229883-08:00","labels":["bootstrap","config","dependencies"],"dependencies":[{"issue_id":"forge-631","depends_on_id":"forge-gr3","type":"related","created_at":"2025-12-08T16:37:20.82704-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.229883-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"bug"}
{"id":"forge-6u6","title":"Support custom command name registration separate from export identifier","description":"Currently command registration uses the export identifier (e.g., `issueStatus`). Need a way to register commands with a different name (e.g., `issue-status`) while keeping valid JS identifiers for exports.\n\nExample:\n```typescript\nexport const issueStatus: ForgeCommand = {\n  name: 'issue-status',  // registered as 'issue-status'\n  // ...\n}\n```","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-13T01:04:22.519415-08:00","updated_at":"2025-12-28T20:30:35.22732-08:00","deleted_at":"2025-12-28T20:30:35.22732-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"forge-72c","title":"Update documentation (README, CLAUDE.md, docs/)","description":"Update all documentation files.\n\n**Core docs**:\n- `README.md`: brew install command, URLs, all \"Forge\" references\n- `CLAUDE.md`: FORGE_HOME architecture section, paths, bead prefix\n- `CHANGELOG.md`: historical references (update for clarity)\n\n**docs/ directory** (~60 files):\n- `docs/command-patterns.md`\n- `docs/features/*.md`\n- `docs/planning/*.md`\n- `docs/reference/module-resolution.md`\n\n**Patterns**:\n- \"Forge\" → \"Commando\" (project name)\n- `.forge/` → `.commando/`\n- `FORGE_HOME` → `COMMANDO_HOME`\n- `forge-xxx` → `commando-xxx` (bead references)\n- GitHub URLs","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:13.308224-08:00","updated_at":"2025-12-28T20:30:35.232669-08:00","close_reason":"Documentation forge→commando rename complete (32 files updated, committed a7621d6)","dependencies":[{"issue_id":"forge-72c","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.894461-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.232669-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-7ik","title":"Test 2: after commit","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-11-28T22:36:20.519068-08:00","updated_at":"2025-12-28T20:30:35.240829-08:00","deleted_at":"2025-12-28T20:30:35.240829-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-8d9","title":"Update tests/ files","description":"Update all test files and fixtures.\n\n**Files**:\n- `tests/install.test.ts`: paths, package refs (~10 changes)\n- `tests/lib/test-env.ts`: TEST_FORGE_HOME → TEST_COMMANDO_HOME\n- `tests/lib/runner.ts`: bin/forge-dev → bin/cmdo-dev\n- `tests/fixtures/test-project/.commando/test-commands.ts`: imports\n\n**Patterns**:\n- `FORGE_HOME` → `COMMANDO_HOME`\n- `.forge/` → `.commando/`\n- `@planet57/forge` → `@planet57/commando`\n- `~/.local/bin/forge` → `~/.local/bin/cmdo`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:13.144564-08:00","updated_at":"2025-12-28T20:30:35.233557-08:00","close_reason":"Tests updated for commando rename","dependencies":[{"issue_id":"forge-8d9","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.721118-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"forge-8d9","depends_on_id":"forge-bch","type":"blocks","created_at":"2025-12-06T16:45:50.509337-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.233557-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-9q2","title":"Update examples/ content","description":"Update all example project content.\n\n**Files**:\n- `examples/website/.commando/website.ts`: imports, comments\n- `examples/website/.commando/config.yml`: module references\n- `examples/standard-git/.commando/config.yml`: template references\n- All other example configs\n\n**Import changes**:\n- `@forge/command` → `@commando/command`\n- `@forge/aws` → `@commando/aws`\n- `forge-standard` → `commando-standard`","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:12.983683-08:00","updated_at":"2025-12-28T20:30:35.234356-08:00","close_reason":"Examples TS and config files updated; READMEs to be done with docs","dependencies":[{"issue_id":"forge-9q2","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.544446-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"forge-9q2","depends_on_id":"forge-bch","type":"blocks","created_at":"2025-12-06T16:45:50.461735-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.234356-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-aaj","title":"Rename forge to commando (cmdo)","description":"Rename the project from \"forge\" to \"commando\" with CLI command `cmdo`.\n\n**Motivation**: Avoid Homebrew naming conflict with existing `forge` package.\n\n**Scope**: ~200+ file changes across source, scripts, docs, tests, and configuration.\n\n**Key Changes**:\n- Package: `@planet57/forge` → `@planet57/commando`\n- Binary: `forge` → `cmdo`, `forge-dev` → `cmdo-dev`\n- Environment: `FORGE_HOME` → `COMMANDO_HOME`\n- Directories: `~/.forge` → `~/.commando`, `.forge/` → `.commando/`\n- Types: `Forge*` → `Commando*`\n- Beads prefix: New beads use `commando-`, existing `forge-` beads retained as history","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2025-12-06T16:44:10.983084-08:00","updated_at":"2025-12-28T20:30:35.235702-08:00","dependencies":[{"issue_id":"forge-aaj","depends_on_id":"forge-auj","type":"blocks","created_at":"2025-12-26T02:17:42.381088-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T20:30:35.235702-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"epic"}
{"id":"forge-auj","title":"Rename forge-standard repo to commando-standard","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-26T02:17:13.18039-08:00","updated_at":"2025-12-28T20:30:35.226006-08:00","close_reason":"Created commando-standard at ../commando-standard/ with updated naming","deleted_at":"2025-12-28T20:30:35.226006-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-bch","title":"Rename project directories .forge/ → .commando/","description":"Rename all .forge/ directories and update references.\n\n**Directories to rename**:\n- `examples/website/.forge/` → `.commando/`\n- `examples/basic/.forge/` → `.commando/`\n- `examples/deps/.forge/` → `.commando/`\n- `examples/standard-git/.forge/` → `.commando/`\n- `tests/fixtures/test-project/.forge/` → `.commando/`\n- `dev-home/forge/` → `dev-home/commando/`\n\n**References to update**:\n- All documentation mentioning `.forge/`\n- All code searching for `.forge/` directory\n- Config file paths","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-06T16:45:12.827373-08:00","updated_at":"2025-12-28T20:30:35.235014-08:00","close_reason":"Directories renamed, lib/ references updated","dependencies":[{"issue_id":"forge-bch","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.369588-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"forge-bch","depends_on_id":"forge-dif","type":"blocks","created_at":"2025-12-06T16:45:50.416973-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.235014-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-bcn","title":"Update VS Code and IDE configuration","description":"Update IDE configuration files.\n\n**Files**:\n- `.vscode/launch.json`: FORGE_HOME env var in debug configs\n- Any other IDE-specific configuration\n\n**Changes**:\n- Line 13, 28: `\"FORGE_HOME\": \"${workspaceFolder}/dev-home/forge\"` → `\"COMMANDO_HOME\": \"${workspaceFolder}/dev-home/commando\"`","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-06T16:45:13.993306-08:00","updated_at":"2025-12-28T20:30:35.237631-08:00","close_reason":"VS Code launch.json updated with COMMANDO_HOME and cmdo-dev","dependencies":[{"issue_id":"forge-bcn","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:37.584677-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.237631-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-dfh","title":"Copy forge repo to new commando repo on GitHub","description":"Copy the GitHub repository to retain compatibility with existing forge repo.\n\n**Approach**: Create new repo instead of rename\n1. Create new repo `jdillon/commando` on GitHub\n2. Push current branch to new repo as main\n3. Keep `jdillon/forge` as-is for backwards compatibility\n4. Update local remote: `git remote set-url origin git@github.com:jdillon/commando.git`\n\n**Dependent changes** (already covered in other stories):\n- package.json repository URL\n- README installation URLs  \n- Documentation links\n\n**Note**: Do this after all code changes are complete and committed.","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-06T16:45:13.819831-08:00","updated_at":"2025-12-28T20:30:35.238237-08:00","close_reason":"Completed via commando-54q (formula template updated) and repo already renamed on GitHub","dependencies":[{"issue_id":"forge-dfh","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:37.412806-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.238237-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-dif","title":"Update lib/ source files","description":"Update all library source code.\n\n**Files**:\n- `lib/forge-home.ts` → consider renaming to `lib/commando-home.ts`\n  - Function names, comments, package.json template name\n- `lib/cli.ts`: program name, help text, version output\n- `lib/config-resolver.ts`: cosmiconfig(\"forge\") → cosmiconfig(\"commando\")\n- `lib/core.ts`: imports, type references\n- `lib/builtins.ts`: environment variable exports\n\n**String changes**:\n- `\"forge version\"` → `\"commando version\"`\n- `\"Try 'forge --help'\"` → `\"Try 'cmdo --help'\"`\n- `.name(\"forge\")` → `.name(\"cmdo\")`\n- `\".forge/\"` → `\".commando/\"`","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.669226-08:00","updated_at":"2025-12-28T20:30:35.221328-08:00","close_reason":"Updated lib/ files: renamed forge-home→commando-home, updated imports, function names, and .forge→.commando references","dependencies":[{"issue_id":"forge-dif","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:36.197922-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.221328-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-dy2","title":"Test 3: trigger auto-push","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-11-28T22:39:37.550796-08:00","updated_at":"2025-12-28T20:30:35.240133-08:00","deleted_at":"2025-12-28T20:30:35.240133-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-eua","title":"Shell completion support (bash/zsh/fish)","description":"Add shell completion for commands, options, and arguments.\n\n**Library**: `omelette` (already installed)\n\n**Features needed**:\n- Auto-complete commands and subcommands\n- Auto-complete options (--help, --debug, etc.)\n- Auto-complete command-specific arguments\n- Generate completion scripts for bash/zsh/fish","design":"Use `omelette` library to generate completion scripts.\n\n```typescript\nimport omelette from 'omelette';\n\nconst completion = omelette('forge \u003ccommand\u003e \u003csubcommand\u003e');\n\ncompletion.on('command', ({ reply }) =\u003e {\n  reply(['website', 'basic', 'help', 'version']);\n});\n\ncompletion.on('subcommand', ({ before, reply }) =\u003e {\n  if (before === 'website') {\n    reply(['build', 'deploy', 'status']);\n  }\n});\n\ncompletion.init();\n```\n\n**Installation**: `forge completion install` to add to shell profile.","acceptance_criteria":"- [ ] `forge completion` command exists\n- [ ] `forge completion install` adds to shell profile\n- [ ] Tab-completes top-level commands\n- [ ] Tab-completes subcommands within groups\n- [ ] Tab-completes global options\n- [ ] Works in bash, zsh, fish","status":"tombstone","priority":3,"issue_type":"feature","created_at":"2025-11-26T15:23:00.83981-08:00","updated_at":"2025-12-28T20:30:35.242039-08:00","deleted_at":"2025-12-28T20:30:35.242039-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"forge-gr3","title":"Subcommands don't trigger dependency installation for new modules","description":"When adding a new command module with dependencies:\n\n1. Add new module (e.g., `.forge/figma.ts`)\n2. Update `config.yml` with module and dependencies\n3. Run subcommand directly: `forge figma login` → **fails**\n4. Run parent command: `forge figma` → works, installs deps\n5. Run subcommand again: `forge figma login` → works\n\nThe dependency detection/`bun install` logic runs for the parent command but not when invoking subcommands directly. Should detect missing deps and run install regardless of command depth.","status":"tombstone","priority":2,"issue_type":"bug","created_at":"2025-12-08T02:42:49.198499-08:00","updated_at":"2025-12-28T20:30:35.231165-08:00","labels":["bootstrap","cli","dependencies"],"deleted_at":"2025-12-28T20:30:35.231165-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"bug"}
{"id":"forge-gtk","title":"Consider renaming forge to commando (cmdo)","description":"Evaluate renaming the project from \"forge\" to \"commando\" with CLI command `cmdo`.\n\n**Motivation**: There's already a `forge` package in Homebrew, causing naming conflicts.\n\n**Findings**:\n- Neither `commando` nor `cmdo` exist in Homebrew\n- Similar packages: commandbox, command-x, commandq, cdo, cmd (none conflict)\n\n**TODO**:\n- [ ] Decide on rename\n- [ ] If yes, update package name, CLI binary, docs, and Homebrew formula","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-06T16:40:30.684259-08:00","updated_at":"2025-12-28T20:30:35.239487-08:00","deleted_at":"2025-12-28T20:30:35.239487-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-kdf","title":"Migrate beads prefix forge- → commando-","description":"Migrate existing beads to new prefix.\n\n**Strategy**:\n1. Export all issues: `bd export -o beads-backup.jsonl`\n2. Use `bd rename-prefix commando` (if available) or manual migration\n3. Update all issue IDs from `forge-xxx` to `commando-xxx`\n4. Verify references in commit messages still work\n\n**Files with bead references**:\n- CLAUDE.md: `Resolves: forge-xxx` pattern\n- Any commit messages (historical, won't change)\n\n**Note**: This should be done LAST after all other renames, as it affects the tracking system itself.","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-06T16:45:13.645341-08:00","updated_at":"2025-12-28T20:30:35.23887-08:00","close_reason":"Decided to leave existing forge-xxx beads as historical records. Updated issue_prefix to 'commando' for new beads going forward.","dependencies":[{"issue_id":"forge-kdf","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:37.240493-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"forge-kdf","depends_on_id":"forge-72c","type":"blocks","created_at":"2025-12-06T16:45:50.56028-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.23887-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-kxw","title":"Automate Homebrew formula updates on release","description":"Automate the Homebrew tap update process when releasing new versions. Currently manual: rebuild tarball, compute sha256, update formula, push to tap.\n\n**Reference**: beads project `.github/workflows/update-homebrew.yml`","design":"## Approach\n\n**Phase 1**: Automate current approach (Bun tarball)\n- Tag push (v*) triggers release workflow\n- Build tarball, create GitHub release\n- Compute sha256, generate formula, push to tap\n- Low effort, matches current manual process\n\n**Phase 2** (future): Standalone binary via `bun build --compile`\n- Zero-dependency binaries for darwin-arm64, darwin-x64, linux-x64\n- Better UX but larger binaries (~50MB)\n\n## Implementation\n\n### release.yml workflow\n```yaml\non:\n  push:\n    tags: ['v*']\n\njobs:\n  release:\n    steps:\n      - uses: actions/checkout@v4\n      - uses: oven-sh/setup-bun@v2\n      - run: bun run pack\n      - uses: softprops/action-gh-release@v1\n        with:\n          files: build/*.tgz\n\n  update-homebrew:\n    needs: release\n    steps:\n      - Download tarball, compute sha256\n      - Generate formula from template\n      - Clone tap repo using HOMEBREW_TAP_TOKEN\n      - Commit and push updated formula\n```\n\n### Formula template\n```ruby\nclass Forge \u003c Formula\n  url \"https://github.com/jdillon/forge/releases/download/v{{VERSION}}/planet57-forge-{{VERSION}}.tgz\"\n  sha256 \"{{SHA256}}\"\n  version \"{{VERSION}}\"\n  depends_on \"oven-sh/bun/bun\"\n  # ...\nend\n```\n\n### Secrets required\n- `HOMEBREW_TAP_TOKEN`: PAT with `repo` scope for pushing to homebrew-planet57","acceptance_criteria":"- [ ] `.github/workflows/release.yml` created\n- [ ] Formula template with placeholders\n- [ ] `HOMEBREW_TAP_TOKEN` secret configured\n- [ ] Tag push triggers release + formula update\n- [ ] `brew upgrade forge` works after release\n- [ ] Manual dispatch option for testing","status":"tombstone","priority":3,"issue_type":"feature","created_at":"2025-11-26T13:53:13.833881-08:00","updated_at":"2025-12-28T20:30:35.24292-08:00","deleted_at":"2025-12-28T20:30:35.24292-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"forge-mvj","title":"ExitNotification stack trace shown on unknown command","description":"Running forge with an unknown command displays the error message correctly, but then shows an ugly `ExitNotification` stack trace that shouldn't be visible to users.\n\n**Repro**: `forge foo` (any unknown command)\n\n**Actual**:\n```\nerror: too many arguments. Expected 0 arguments but got 1.\nERROR: unknown command. Run 'forge --help' to see available commands\nTry 'forge --help' for more information.\n44 | /**\n45 |  * Exit process with code (clean exit)\n...\nExitNotification: Exit with code 1\n exitCode: 1,\n      at exit (~/.forge/node_modules/@planet57/forge/lib/helpers.ts:49:9)\n      ...\n```\n\n**Expected**: Just the error message, no stack trace. `ExitNotification` is internal control flow, not a user-facing error.","design":"`ExitNotification` is thrown as a clean exit mechanism but Bun is printing the stack trace. Need to ensure it's caught at the top level and handled silently (just exit with the code).","status":"tombstone","priority":1,"issue_type":"bug","created_at":"2025-11-26T02:21:58.105051-08:00","updated_at":"2025-12-28T20:30:35.225346-08:00","deleted_at":"2025-12-28T20:30:35.225346-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"bug"}
{"id":"forge-n0y","title":"Rename TypeScript types Forge* → Commando*","description":"Rename exported types and interfaces.\n\n**Types in lib/types.ts**:\n- `interface Forge` → `interface Commando`\n- `interface ForgeContext` → `interface CommandoContext`\n- `interface ForgeCommand` → `interface CommandoCommand`\n- `interface ForgeModuleMetadata` → `interface CommandoModuleMetadata`\n- `interface ForgeConfig` → `interface CommandoConfig`\n\n**Ripple effects**:\n- All files importing these types\n- lib/core.ts\n- Various command files\n- Test files","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.365899-08:00","updated_at":"2025-12-28T20:30:35.223345-08:00","close_reason":"Types renamed, shell scripts updated","dependencies":[{"issue_id":"forge-n0y","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:35.847716-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.223345-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-q4h","title":"Add standard prompt library for interactive CLI","description":"Add a prompt library for interactive user input in forge commands.\n\n## Options Evaluated\n\n| Library | Status | Size | Notes |\n|---------|--------|------|-------|\n| **@clack/prompts** | Active (v1 alpha) | 80% smaller | Beautiful minimal UI, spinner/tasks built-in, opinionated |\n| **@inquirer/prompts** | Active (rewritten) | Moderate | Modern rewrite of classic inquirer, most features |\n| **prompts** | Maintained | Lightweight | Zero deps, simple API, 8.7k stars |\n| **enquirer** | Low activity | ~4ms load | Used by eslint/webpack/yarn, but not actively developed |\n\n## Recommendation\n\n**Primary: @clack/prompts**\n- Modern, actively developed (v1 coming)\n- Built-in spinner, tasks, logging (`log.info`, `log.success`, etc.)\n- Minimal and beautiful out of the box\n- Simple API - less boilerplate\n- Good TypeScript support\n- Trade-off: Opinionated, fewer customization options\n\n**Alternative: @inquirer/prompts**\n- More flexibility and customization\n- Larger ecosystem, more prompt types\n- Modern rewrite of battle-tested inquirer\n- Better choice if heavy customization needed\n\n## References\n- https://www.clack.cc/\n- https://github.com/bombshell-dev/clack\n- https://www.npmjs.com/package/@inquirer/prompts\n- https://github.com/SBoudrias/Inquirer.js","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-09T22:57:36.177559-08:00","updated_at":"2025-12-28T20:30:35.227964-08:00","labels":["cli","dependencies","research"],"deleted_at":"2025-12-28T20:30:35.227964-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"forge-rjt","title":"Consider per-project node_modules instead of shared","description":"Evaluate moving from shared node_modules to per-project node_modules directories.\n\n## Current Approach\nAll forge projects share a single node_modules in ~/.forge/, with sub-projects linked in.\n\n## Alternative\nEach .forge/ project gets its own node_modules directory.\n\n## Why This May Be Worth It\n- Avoids dependency pollution between projects\n- Cleaner isolation - no conflicts between projects needing different versions\n- Simpler mental model\n\n## Why Disk Cost Is Minimal\nBun uses a global cache at `~/.bun/install/cache` and:\n- **Hardlinks** on Linux/Windows\n- **Clonefile** (copy-on-write) on macOS\n\nActual bytes exist only once in the cache. Each node_modules just has hardlinks/clonefiles pointing to the same data. Cost is only directory structure overhead and inode entries, NOT duplicate file content.\n\nSimilar to how pnpm works. Bun also has `--linker=isolated` mode (pnpm-style symlinked node_modules) for monorepos.\n\n## When to Revisit\nIf we find dependency pollution issues between projects with the current shared node_modules approach.\n\n## References\n- https://bun.com/docs/install/cache.md\n- https://thevalleyofcode.com/managing-node-modules-efficiently/\n- https://hy2k.dev/en/blog/2025/10-15-bun-install-isolated-vs-hoisted/","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-10T01:59:57.144701-08:00","updated_at":"2025-12-28T20:30:35.23701-08:00","labels":["architecture","dependencies","research"],"deleted_at":"2025-12-28T20:30:35.23701-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-sth","title":"Add 'config' subcommand to manage configuration","description":"Add a standard `forge config` command to view/edit configuration.\n\n**Scope**:\n- Project config: `.forge/config.yml`\n- Local overrides: `.forge/config.local.yml`\n- Global/user config: `~/.forge/config.yml`\n\n**Possible subcommands**:\n- `forge config get \u003ckey\u003e` - get a value\n- `forge config set \u003ckey\u003e \u003cvalue\u003e` - set a value\n- `forge config list` - show merged config\n- `forge config edit [--global|--local]` - open in editor\n- `forge config path [--global|--local]` - show config file path\n\n**Considerations**:\n- Which layer to write to by default (project vs local vs global)\n- How to handle nested keys (dot notation? `settings.figma.token`)\n- Show effective/merged values vs per-layer values","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-09T13:04:04.865681-08:00","updated_at":"2025-12-28T20:30:35.228607-08:00","labels":["cli","config"],"deleted_at":"2025-12-28T20:30:35.228607-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"forge-sua","title":"Native nested subcommands support","description":"Currently forge supports one level of command grouping via modules (`forge \u003cgroup\u003e \u003ccommand\u003e`), but no native support for nested subcommands (`forge \u003cgroup\u003e \u003csubgroup\u003e \u003ccommand\u003e`).\n\n**Current workaround**: Switch statement on positional argument (Style 9)\n\n**Downsides of workaround**:\n- No automatic help for sub-actions\n- Manual validation and error messages\n- Can't define per-action options/arguments cleanly\n\n**Use cases**:\n- `forge ios sim list|boot|shutdown`\n- `forge db migrate up|down|status`\n- `forge k8s pod list|logs|exec`","design":"## Proposed API\n\nAdd `subcommands` property to `ForgeCommand`:\n\n```typescript\n// lib/types.ts\nexport interface ForgeCommand {\n  description: string;\n  subcommands?: Record\u003cstring, ForgeCommand\u003e;  // NEW\n  defineCommand?: (cmd: Command) =\u003e void;\n  execute?: (...) =\u003e Promise\u003cvoid\u003e;  // optional if has subcommands\n}\n```\n\n**Usage**:\n```typescript\nexport const sim: ForgeCommand = {\n  description: 'iOS simulator commands',\n  subcommands: {\n    list: {\n      description: 'List available simulators',\n      execute: async () =\u003e { /* ... */ }\n    },\n    boot: {\n      description: 'Boot simulator',\n      defineCommand: (cmd) =\u003e cmd.argument('[name]', 'Simulator name'),\n      execute: async (opts, args) =\u003e { /* ... */ }\n    }\n  }\n};\n```\n\n**Result**:\n```\n$ forge ios sim --help\nCommands:\n  list      List available simulators\n  boot      Boot simulator\n```\n\n## Implementation Notes\n\n1. **core.ts**: Check for `subcommands` and recursively build Commander subcommands via `cmd.addCommand()`\n2. **Depth limit**: Consider 2-3 levels max\n3. **Execute behavior**: If has `subcommands` but no `execute`, show help when invoked without subcommand","acceptance_criteria":"- [ ] `subcommands` property added to ForgeCommand type\n- [ ] core.ts recursively registers nested subcommands\n- [ ] `--help` shows subcommand list properly\n- [ ] Per-subcommand options/arguments work\n- [ ] Depth limit enforced (2-3 levels)\n- [ ] Commands without execute show help when invoked alone\n- [ ] Example added to examples/","status":"tombstone","priority":3,"issue_type":"feature","created_at":"2025-11-26T02:28:12.126037-08:00","updated_at":"2025-12-28T20:30:35.243758-08:00","deleted_at":"2025-12-28T20:30:35.243758-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"forge-ubk","title":"Rename binary files and package identity","description":"Rename core binary files and update package.json.\n\n**Files**:\n- `bin/forge` → `bin/cmdo`\n- `bin/forge-dev` → `bin/cmdo-dev`\n- `package.json`: name, bin entry, repository URL\n\n**Changes in package.json**:\n- Line 2: `\"name\": \"@planet57/forge\"` → `\"@planet57/commando\"`\n- Line 17: repository URL\n- Line 21: `\"bin/forge\"` → `\"bin/cmdo\"`\n- Line 70: comment reference","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.064319-08:00","updated_at":"2025-12-28T20:30:35.224711-08:00","close_reason":"Renamed bin/forge→bin/cmdo, bin/forge-dev→bin/cmdo-dev, updated package.json","dependencies":[{"issue_id":"forge-ubk","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:35.497967-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.224711-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-uhk","title":"Add log-to-file option for AI-driven workflows","description":"Add ability to log to a file while keeping console output terse.\n\n**Use case**: AI-driven workflows need minimal console output to avoid filling context, but detailed logs should still be available when:\n- Things go sideways and need debugging\n- Need to confirm specific output without polluting context\n\n**Possible approach**:\n- `--log-file \u003cpath\u003e` flag or config option\n- File gets full verbose output regardless of console verbosity\n- Console stays terse for AI consumption","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-08T15:00:52.845201-08:00","updated_at":"2025-12-28T20:30:35.23054-08:00","labels":["ai-workflows","cli","logging"],"deleted_at":"2025-12-28T20:30:35.23054-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"forge-xgy","title":"Update environment variables FORGE_* → COMMANDO_*","description":"Replace all environment variable references.\n\n**Variables**:\n- `FORGE_HOME` → `COMMANDO_HOME` (primary, used everywhere)\n- `FORGE_RESTARTED` → `COMMANDO_RESTARTED` (lib/cli.ts, bin/forge)\n- `FORGE_PROJECT` → `COMMANDO_PROJECT` (lib/config-resolver.ts)\n\n**Files affected**:\n- lib/forge-home.ts\n- lib/cli.ts (lines 105, 117, 132)\n- lib/config-resolver.ts (lines 100, 114-124, 252)\n- lib/builtins.ts (line 68)\n- lib/version.ts (line 40)\n- bin/forge, bin/forge-dev, bin/install.sh, bin/uninstall.sh, bin/brew-bootstrap.sh\n- .vscode/launch.json","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-06T16:45:12.211543-08:00","updated_at":"2025-12-28T20:30:35.224043-08:00","close_reason":"Updated all FORGE_* env vars to COMMANDO_* in lib/, bin/, and tests/","dependencies":[{"issue_id":"forge-xgy","depends_on_id":"forge-aaj","type":"parent-child","created_at":"2025-12-06T16:45:35.672486-08:00","created_by":"daemon","metadata":"{}"}],"deleted_at":"2025-12-28T20:30:35.224043-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"forge-xre","title":"Add CLI commands to interface with package system","description":"Need user-facing commands to manage the forge package system:\n\nPossible commands:\n- `forge packages list` - show installed packages\n- `forge packages install \u003cpkg\u003e` - install a package\n- `forge packages update` - update all packages\n- `forge packages outdated` - show outdated packages\n- `forge packages add \u003cpkg\u003e` - add to config.yml and install\n\nCurrently no way for users to interact with the package system directly.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-08T16:37:12.956373-08:00","updated_at":"2025-12-28T20:30:35.229244-08:00","labels":["cli","packages"],"deleted_at":"2025-12-28T20:30:35.229244-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"feature"}
{"id":"forge-y25","title":"Test: protected branch workflow","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-11-28T22:31:12.372362-08:00","updated_at":"2025-12-28T20:30:35.24143-08:00","deleted_at":"2025-12-28T20:30:35.24143-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
